import Pai
import JudgeRon
import numpy as np

def showTesthand(test):
    hand = []
    for s in test[0]:
        for p in s:
            hand.append(p)
    for s in test[1]:
        for p in s:
            hand.append(p)
    return Pai.showHand(hand)


def dasanyuanTest():
    case = [""]*8
    case[0] = [[[(27,0),(27,1),(27,3)],[(28,0),(28,1),(28,2)],[(29,1),(29,3),(29,0)],[(2,3),(3,3),(4,3)],[(0,0),(0,1)]], []]
    case[1] = [[[(27,0),(27,1),(27,3)],[(28,0),(28,1),(28,2)],[(29,1),(29,3),(29,0)],[(0,0),(0,1)]], [[(8,0),(8,1),(8,2)]]]
    case[2] = [[[(27,0),(27,1),(27,3)],[(28,0),(28,1),(28,2)],[(0,0),(0,1)]], [[(8,0),(8,1),(8,2)],[(29,1),(29,3),(29,0)]]]
    case[3]  = [[[(0,0),(0,1)]], [[(27,0),(27,1),(27,3)],[(28,0),(28,1),(28,2)],[(8,0),(8,1),(8,2)],[(29,1),(29,3),(29,0)]]]
    case[4]  = [[[(0,0),(0,1)],[(27,0),(27,1),(27,3)],[(28,0),(28,1),(28,2)],[(8,0),(8,1),(8,2)]],[[(29,1),(29,3),(29,0),(29,2)]]]
    case[5]  = [[[(0,0),(0,1)]], [[(27,0),(27,1),(27,3),(27,2)],[(28,0),(28,1),(28,2),(28,3)],[(8,0),(8,1),(8,2)],[(29,1),(29,3),(29,0),(29,2)]]]
    case[6] = [[[(0,0),(0,1)]], [[(12,0),(12,1),(12,3)],[(28,0),(28,1),(28,2)],[(8,0),(8,1),(8,2)],[(29,1),(29,3),(29,0)]]]
    case[7] = [[],[]]
    
    for test in case[1:]:
        print(showTesthand(test))
        print(JudgeRon.dasanyuan(test[0],test[1]))

def zifengTest():
    case = [""]*6
    case[0] = [[[(30,1),(30,0),(30,2)],[(31,1),(31,2),(31,0)],[(1,1),(2,2),(3,3)],[(8,0),(8,1),(8,2)],[(0,2),(0,3)]], []]
    case[1] = [[[(31,1),(31,2),(31,0)],[(32,1),(32,2),(32,3)],[(33,0),(33,1),(33,2)],[(0,2),(0,3)]], [[(30,1),(30,0),(30,2)]]]
    case[2] = [[[(31,1),(31,2),(31,0)],[(1,1),(2,2),(3,3)],[(8,0),(8,1),(8,2)],[(0,2),(0,3)]], [[(30,1),(30,0),(30,2)]]]
    case[3] = [[[(32,1),(32,2),(32,0)],[(1,1),(2,2),(3,3)],[(8,0),(8,1),(8,2)],[(0,2),(0,3)]], [[(30,1),(30,0),(30,2)]]]
    case[4] = [[[(32,1),(32,2),(32,0)],[(1,1),(2,2),(3,3)],[(8,0),(8,1),(8,2)],[(0,2),(0,3)]], [[(30,1),(30,0),(30,2),(30,3)]]]
    case[5] = [[],[]]

    feng = [30,31,32,33]

    for f in feng:
        for test in case:
            print("ZhiFeng : ",f)
            print(showTesthand(test))
            print(JudgeRon.zifeng(test[0],test[1],f))

def changfengTest():
    case = [""]*6
    case[0] = [[[(30,1),(30,0),(30,2)],[(31,1),(31,2),(31,0)],[(1,1),(2,2),(3,3)],[(8,0),(8,1),(8,2)],[(0,2),(0,3)]], []]
    case[1] = [[[(31,1),(31,2),(31,0)],[(32,1),(32,2),(32,3)],[(33,0),(33,1),(33,2)],[(0,2),(0,3)]], [[(30,1),(30,0),(30,2)]]]
    case[2] = [[[(31,1),(31,2),(31,0)],[(1,1),(2,2),(3,3)],[(8,0),(8,1),(8,2)],[(0,2),(0,3)]], [[(30,1),(30,0),(30,2)]]]
    case[3] = [[[(32,1),(32,2),(32,0)],[(1,1),(2,2),(3,3)],[(8,0),(8,1),(8,2)],[(0,2),(0,3)]], [[(30,1),(30,0),(30,2)]]]
    case[4] = [[[(32,1),(32,2),(32,0)],[(1,1),(2,2),(3,3)],[(8,0),(8,1),(8,2)],[(0,2),(0,3)]], [[(30,1),(30,0),(30,2),(30,3)]]]
    case[5] = [[],[]]

    feng = [30,32]

    for f in feng:
        for test in case:
            print("ChangFeng : ",f)
            print(showTesthand(test))
            print(JudgeRon.changfeng(test[0],test[1],f))

def sanyuanTest():
    case = [""]*8
    case[0] = [[[(27,0),(27,1),(27,3)],[(28,0),(28,1),(28,2)],[(29,1),(29,3),(29,0)],[(2,3),(3,3),(4,3)],[(0,0),(0,1)]], []]
    case[1] = [[[(27,0),(27,1),(27,3)],[(28,0),(28,1),(28,2)],[(29,1),(29,3),(29,0)],[(0,0),(0,1)]], [[(8,0),(8,1),(8,2)]]]
    case[2] = [[[(27,0),(27,1),(27,3)],[(2,0),(2,1),(2,2)],[(0,0),(0,1)]], [[(8,0),(8,1),(8,2)],[(9,1),(9,3),(9,0)]]]
    case[3]  = [[[(0,0),(0,1)]], [[(27,0),(27,1),(27,3)],[(28,0),(28,1),(28,2)],[(8,0),(8,1),(8,2)],[(29,1),(29,3),(29,0)]]]
    case[4]  = [[[(0,0),(0,1)],[(7,0),(7,1),(7,3)],[(2,0),(2,1),(2,2)],[(8,0),(8,1),(8,2)]],[[(29,1),(29,3),(29,0),(29,2)]]]
    case[5]  = [[[(0,0),(0,1)]], [[(25,0),(25,1),(25,3)],[(18,0),(18,1),(18,2),(18,3)],[(8,0),(8,1),(8,2)],[(28,1),(28,3),(28,0),(28,2)]]]
    case[6] = [[[(0,0),(0,1)]], [[(12,0),(12,1),(12,3)],[(3,0),(3,1),(3,2)],[(8,0),(8,1),(8,2)],[(9,1),(9,3),(9,0)]]]
    case[7] = [[],[]]

    for s,f in [("中",JudgeRon.sanyuan_zhong),("發",JudgeRon.sanyuan_fa),("白",JudgeRon.sanyuan_bai)]:
        print("Test: 三元",s)
        for test in case:
            print(showTesthand(test))
            print(f(test[0],test[1]))




if __name__ == "__main__":
    #print("Test: 大三元")
    #dasanyuanTest()
    #print("Test: 自风")
    #zifengTest()
    #print("Test: 场风")
    #changfengTest()
    #print("Test: 三元")
    #sanyuanTest()
